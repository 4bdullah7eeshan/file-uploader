<section>
    <h1>Home</h1>
    
    <table class="file-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Date</th>
                <th>Type</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <% folders.sort((a, b) => a.name.localeCompare(b.name)).forEach(folder => { %>
                <tr>
                    <td>
                        <a href="/folders/<%= folder.id %>" class="folder-link" data-id="<%= folder.id %>"><%= folder.name %></a>
                    </td>
                    <td><%= folder.createdAt.toLocaleString() %></td>
                    <td>Folder</td>
                    <td class="manage-buttons">
                        <button onclick="editFolder('<%= folder.id %>', '<%= folder.name %>')"><i class="fa-regular fa-pen-to-square"></i></button>
                        <button onclick="deleteFolder('<%= folder.id %>')"><i class="fa-solid fa-trash"></i></button>
                    </td>
                </tr>
            <% }) %>
            <% files.sort((a, b) => a.fileName.localeCompare(b.fileName)).forEach(file => { %>
                <tr>
                    <td>
                        <% if (file.cloudinaryUrl) { %>
                            <a href="<%= file.cloudinaryUrl %>" target="_blank"><%= file.fileName %></a>
                        <% } else { %>
                            <%= file.fileName %>
                        <% } %>
                    </td>
                    <td><%= file.createdAt.toLocaleString() %></td>
                    <td>File</td>
                    <td class="manage-buttons">
                        <button onclick="downloadFile('<%= file.id %>', '<%= file.fileName %>')"><i class="fa-solid fa-download"></i></button>
                        <button onclick="deleteFile('<%= file.id %>')"><i class="fa-solid fa-trash"></i></button>
                    </td>
                </tr>
            <% }) %>
        </tbody>
        
    </table>
</section>
